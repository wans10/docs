{
  "openapi": "3.1.0",
  "info": {
    "title": "NewAPI Responses API",
    "description": "OpenAI 最先进的模型响应接口。支持文本和图像输入，以及文本输出。创建与模型的有状态交互，将先前响应的输出用作输入。通过文件搜索、网络搜索、计算机使用等内置工具扩展模型的能力。使用函数调用允许模型访问外部系统和数据。\n\n相关指南可参阅OpenAI官网：[Responses](https://platform.openai.com/docs/guides/responses)",
    "version": "v1",
    "contact": {
      "name": "API Support",
      "url": "https://platform.openai.com/docs/api-reference/responses"
    }
  },
  "servers": [
    {
      "url": "https://api.llmhub.com.cn/v1",
      "description": "NewAPI 服务器"
    }
  ],
  "paths": {
    "/responses": {
      "post": {
        "summary": "创建模型响应",
        "description": "创建模型响应。提供文本或图像输入以生成文本或JSON输出。让模型调用您自己的自定义代码或使用内置工具（如网络搜索或文件搜索）将您自己的数据用作模型响应的输入。",
        "operationId": "createResponse",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateResponseRequest"
              },
              "examples": {
                "text_response": {
                  "summary": "基础文本响应",
                  "value": {
                    "model": "gpt-4.1",
                    "input": "讲一个三句话的关于独角兽的睡前故事。"
                  }
                },
                "image_analysis": {
                  "summary": "图像分析响应",
                  "value": {
                    "model": "gpt-4.1",
                    "input": [
                      {
                        "role": "user",
                        "content": [
                          {
                            "type": "input_text",
                            "text": "描述这张图片中的内容"
                          },
                          {
                            "type": "input_image",
                            "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/Gfp-wisconsin-madison-the-nature-boardwalk.jpg/2560px-Gfp-wisconsin-madison-the-nature-boardwalk.jpg"
                          }
                        ]
                      }
                    ]
                  }
                },
                "web_search": {
                  "summary": "网络搜索工具",
                  "value": {
                    "model": "gpt-4.1",
                    "tools": [
                      {
                        "type": "web_search_preview"
                      }
                    ],
                    "input": "今天有什么积极正面的新闻?"
                  }
                },
                "file_search": {
                  "summary": "文件搜索工具",
                  "value": {
                    "model": "gpt-4.1",
                    "tools": [
                      {
                        "type": "file_search",
                        "vector_store_ids": [
                          "vs_1234567890"
                        ],
                        "max_num_results": 20
                      }
                    ],
                    "input": "古代棕龙有哪些特性和属性?"
                  }
                },
                "streaming": {
                  "summary": "流式响应",
                  "value": {
                    "model": "gpt-4.1",
                    "instructions": "你是一个有帮助的助手。",
                    "input": "你好！",
                    "stream": true
                  }
                },
                "function_call": {
                  "summary": "函数调用",
                  "value": {
                    "model": "gpt-4.1",
                    "input": "波士顿今天的天气如何？",
                    "tools": [
                      {
                        "type": "function",
                        "name": "get_current_weather",
                        "description": "获取指定位置的当前天气",
                        "parameters": {
                          "type": "object",
                          "properties": {
                            "location": {
                              "type": "string",
                              "description": "城市和州，例如 San Francisco, CA"
                            },
                            "unit": {
                              "type": "string",
                              "enum": [
                                "celsius",
                                "fahrenheit"
                              ]
                            }
                          },
                          "required": [
                            "location",
                            "unit"
                          ]
                        }
                      }
                    ],
                    "tool_choice": "auto"
                  }
                },
                "reasoning": {
                  "summary": "推理能力",
                  "value": {
                    "model": "o3-mini",
                    "input": "一只啄木鸟能啄多少木头?",
                    "reasoning": {
                      "effort": "high"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功的响应",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResponseObject"
                },
                "examples": {
                  "text_response": {
                    "summary": "基础文本响应示例",
                    "value": {
                      "id": "resp_67ccd2bed1ec8190b14f964abc0542670bb6a6b452d3795b",
                      "object": "response",
                      "created_at": 1741476542,
                      "status": "completed",
                      "error": null,
                      "incomplete_details": null,
                      "instructions": null,
                      "max_output_tokens": null,
                      "model": "gpt-4.1",
                      "output": [
                        {
                          "type": "message",
                          "id": "msg_67ccd2bf17f0819081ff3bb2cf6508e60bb6a6b452d3795b",
                          "status": "completed",
                          "role": "assistant",
                          "content": [
                            {
                              "type": "output_text",
                              "text": "在一个宁静的月夜下，一只名叫璐米娜的独角兽发现了一个倒映着星星的隐藏水池。当她将独角浸入水中时，水池开始闪烁，显现出通往一个有着无尽夜空的魔法世界的路径。充满好奇，璐米娜为所有做梦的人许下愿望，希望他们能找到自己的隐藏魔法，当她回头望去，她的蹄印像星尘一样闪烁。",
                              "annotations": []
                            }
                          ]
                        }
                      ],
                      "parallel_tool_calls": true,
                      "previous_response_id": null,
                      "reasoning": {
                        "effort": null,
                        "summary": null
                      },
                      "store": true,
                      "temperature": 1.0,
                      "text": {
                        "format": {
                          "type": "text"
                        }
                      },
                      "tool_choice": "auto",
                      "tools": [],
                      "top_p": 1.0,
                      "truncation": "disabled",
                      "usage": {
                        "input_tokens": 36,
                        "input_tokens_details": {
                          "cached_tokens": 0
                        },
                        "output_tokens": 87,
                        "output_tokens_details": {
                          "reasoning_tokens": 0
                        },
                        "total_tokens": 123
                      },
                      "user": null,
                      "metadata": {}
                    }
                  },
                  "image_analysis": {
                    "summary": "图像分析响应示例",
                    "value": {
                      "id": "resp_67ccd3a9da748190baa7f1570fe91ac604becb25c45c1d41",
                      "object": "response",
                      "created_at": 1741476777,
                      "status": "completed",
                      "error": null,
                      "incomplete_details": null,
                      "instructions": null,
                      "max_output_tokens": null,
                      "model": "gpt-4.1",
                      "output": [
                        {
                          "type": "message",
                          "id": "msg_67ccd3acc8d48190a77525dc6de64b4104becb25c45c1d41",
                          "status": "completed",
                          "role": "assistant",
                          "content": [
                            {
                              "type": "output_text",
                              "text": "这张图片展示了一条木制栈道或小径穿过茂密的绿色草地，上方是点缀着几朵云的蓝天。场景呈现出一个宁静的自然区域，可能是公园或自然保护区。背景中有树木和灌木丛。整个景观展现出和谐的自然环境，栈道为游客提供了一条穿过湿地或草原而不影响周围生态系统的路径。",
                              "annotations": []
                            }
                          ]
                        }
                      ],
                      "parallel_tool_calls": true,
                      "previous_response_id": null,
                      "reasoning": {
                        "effort": null,
                        "summary": null
                      },
                      "store": true,
                      "temperature": 1.0,
                      "text": {
                        "format": {
                          "type": "text"
                        }
                      },
                      "tool_choice": "auto",
                      "tools": [],
                      "top_p": 1.0,
                      "truncation": "disabled",
                      "usage": {
                        "input_tokens": 328,
                        "input_tokens_details": {
                          "cached_tokens": 0
                        },
                        "output_tokens": 52,
                        "output_tokens_details": {
                          "reasoning_tokens": 0
                        },
                        "total_tokens": 380
                      },
                      "user": null,
                      "metadata": {}
                    }
                  },
                  "web_search": {
                    "summary": "网络搜索工具响应示例",
                    "value": {
                      "id": "resp_67ccf18ef5fc8190b16dbee19bc54e5f087bb177ab789d5c",
                      "object": "response",
                      "created_at": 1741484430,
                      "status": "completed",
                      "error": null,
                      "incomplete_details": null,
                      "instructions": null,
                      "max_output_tokens": null,
                      "model": "gpt-4.1",
                      "output": [
                        {
                          "type": "web_search_call",
                          "id": "ws_67ccf18f64008190a39b619f4c8455ef087bb177ab789d5c",
                          "status": "completed"
                        },
                        {
                          "type": "message",
                          "id": "msg_67ccf190ca3881909d433c50b1f6357e087bb177ab789d5c",
                          "status": "completed",
                          "role": "assistant",
                          "content": [
                            {
                              "type": "output_text",
                              "text": "截至今天，2025年3月9日，一则值得关注的积极新闻是中国科学家在可再生能源领域取得重大突破，成功研发出一种新型高效太阳能电池，转化率达到了创纪录的35%，这可能会极大推动清洁能源的普及和应用。这项技术预计将使太阳能发电成本降低约40%，为全球减少碳排放提供了新的解决方案。",
                              "annotations": [
                                {
                                  "type": "url_citation",
                                  "start_index": 42,
                                  "end_index": 100,
                                  "url": "https://example.com/renewable-energy-breakthrough/?utm_source=chatgpt.com",
                                  "title": "中国科学家在可再生能源领域取得重大突破"
                                },
                                {
                                  "type": "url_citation",
                                  "start_index": 101,
                                  "end_index": 150,
                                  "url": "https://example.com/solar-cell-efficiency-record/?utm_source=chatgpt.com",
                                  "title": "新型高效太阳能电池转化率创纪录"
                                },
                                {
                                  "type": "url_citation",
                                  "start_index": 151,
                                  "end_index": 200,
                                  "url": "https://example.com/clean-energy-cost-reduction/?utm_source=chatgpt.com",
                                  "title": "太阳能发电成本有望降低40%"
                                }
                              ]
                            }
                          ]
                        }
                      ],
                      "parallel_tool_calls": true,
                      "previous_response_id": null,
                      "reasoning": {
                        "effort": null,
                        "summary": null
                      },
                      "store": true,
                      "temperature": 1.0,
                      "text": {
                        "format": {
                          "type": "text"
                        }
                      },
                      "tool_choice": "auto",
                      "tools": [
                        {
                          "type": "web_search_preview",
                          "domains": [],
                          "search_context_size": "medium",
                          "user_location": {
                            "type": "approximate",
                            "city": null,
                            "country": "US",
                            "region": null,
                            "timezone": null
                          }
                        }
                      ],
                      "top_p": 1.0,
                      "truncation": "disabled",
                      "usage": {
                        "input_tokens": 328,
                        "input_tokens_details": {
                          "cached_tokens": 0
                        },
                        "output_tokens": 356,
                        "output_tokens_details": {
                          "reasoning_tokens": 0
                        },
                        "total_tokens": 684
                      },
                      "user": null,
                      "metadata": {}
                    }
                  },
                  "file_search": {
                    "summary": "文件搜索工具响应示例",
                    "value": {
                      "id": "resp_67ccf4c55fc48190b71bd0463ad3306d09504fb6872380d7",
                      "object": "response",
                      "created_at": 1741485253,
                      "status": "completed",
                      "error": null,
                      "incomplete_details": null,
                      "instructions": null,
                      "max_output_tokens": null,
                      "model": "gpt-4.1",
                      "output": [
                        {
                          "type": "file_search_call",
                          "id": "fs_67ccf4c63cd08190887ef6464ba5681609504fb6872380d7",
                          "status": "completed",
                          "queries": [
                            "古代棕龙的特性和属性"
                          ],
                          "results": null
                        },
                        {
                          "type": "message",
                          "id": "msg_67ccf4c93e5c81909d595b369351a9d309504fb6872380d7",
                          "status": "completed",
                          "role": "assistant",
                          "content": [
                            {
                              "type": "output_text",
                              "text": "根据资料，古代棕龙具有以下特性和属性：\n\n1. 物理特征：古代棕龙体型庞大，体长可达25-30米，翼展约35米。它们的鳞片呈深棕色至铜色，随着年龄增长会变得更加暗沉。头部有特征性的双角和脊刺，下颚强壮，适合撕裂猎物。\n\n2. 能力：它们能喷吐强力的酸液，对目标造成严重腐蚀伤害。古代棕龙还拥有出色的掘地能力，常在沙漠或山地挖掘复杂的巢穴系统。\n\n3. 智力：被认为是龙族中最为狡猾和有耐心的品种，智力极高，精通多种语言，并具有复杂的战术思维。\n\n4. 栖息地：主要栖息在干旱的山地和沙漠地区，喜欢炎热干燥的环境。\n\n5. 宝藏：古代棕龙以其庞大的宝藏闻名，特别喜爱收集铜币、红宝石和火焰魔法物品。\n\n6. 寿命：是所有龙种中寿命最长的之一，可活2000-2500年，随着年龄增长其力量和魔法能力也会增强。\n\n7. 性格：极度领地意识强，性格暴躁易怒，对侵入者毫不留情，但也以其罕见的耐心著称，能为复仇等待几个世纪。",
                              "annotations": [
                                {
                                  "type": "file_citation",
                                  "index": 80,
                                  "file_id": "file-4wDz5b167pAf72nx1h9eiN",
                                  "filename": "dragons.pdf"
                                },
                                {
                                  "type": "file_citation",
                                  "index": 233,
                                  "file_id": "file-4wDz5b167pAf72nx1h9eiN",
                                  "filename": "dragons.pdf"
                                },
                                {
                                  "type": "file_citation",
                                  "index": 345,
                                  "file_id": "file-4wDz5b167pAf72nx1h9eiN",
                                  "filename": "dragons.pdf"
                                },
                                {
                                  "type": "file_citation",
                                  "index": 420,
                                  "file_id": "file-4wDz5b167pAf72nx1h9eiN",
                                  "filename": "dragons.pdf"
                                },
                                {
                                  "type": "file_citation",
                                  "index": 520,
                                  "file_id": "file-4wDz5b167pAf72nx1h9eiN",
                                  "filename": "dragons.pdf"
                                },
                                {
                                  "type": "file_citation",
                                  "index": 580,
                                  "file_id": "file-4wDz5b167pAf72nx1h9eiN",
                                  "filename": "dragons.pdf"
                                },
                                {
                                  "type": "file_citation",
                                  "index": 655,
                                  "file_id": "file-4wDz5b167pAf72nx1h9eiN",
                                  "filename": "dragons.pdf"
                                },
                                {
                                  "type": "file_citation",
                                  "index": 781,
                                  "file_id": "file-4wDz5b167pAf72nx1h9eiN",
                                  "filename": "dragons.pdf"
                                }
                              ]
                            }
                          ]
                        }
                      ],
                      "parallel_tool_calls": true,
                      "previous_response_id": null,
                      "reasoning": {
                        "effort": null,
                        "summary": null
                      },
                      "store": true,
                      "temperature": 1.0,
                      "text": {
                        "format": {
                          "type": "text"
                        }
                      },
                      "tool_choice": "auto",
                      "tools": [
                        {
                          "type": "file_search",
                          "filters": null,
                          "max_num_results": 20,
                          "ranking_options": {
                            "ranker": "auto",
                            "score_threshold": 0.0
                          },
                          "vector_store_ids": [
                            "vs_1234567890"
                          ]
                        }
                      ],
                      "top_p": 1.0,
                      "truncation": "disabled",
                      "usage": {
                        "input_tokens": 18307,
                        "input_tokens_details": {
                          "cached_tokens": 0
                        },
                        "output_tokens": 348,
                        "output_tokens_details": {
                          "reasoning_tokens": 0
                        },
                        "total_tokens": 18655
                      },
                      "user": null,
                      "metadata": {}
                    }
                  },
                  "function_call": {
                    "summary": "函数调用响应示例",
                    "value": {
                      "id": "resp_67ca09c5efe0819096d0511c92b8c890096610f474011cc0",
                      "object": "response",
                      "created_at": 1741294021,
                      "status": "completed",
                      "error": null,
                      "incomplete_details": null,
                      "instructions": null,
                      "max_output_tokens": null,
                      "model": "gpt-4.1-2025-04-14",
                      "output": [
                        {
                          "type": "function_call",
                          "id": "fc_67ca09c6bedc8190a7abfec07b1a1332096610f474011cc0",
                          "call_id": "call_unLAR8MvFNptuiZK6K6HCy5k",
                          "name": "get_current_weather",
                          "arguments": "{\"location\":\"波士顿, MA\",\"unit\":\"celsius\"}",
                          "status": "completed"
                        }
                      ],
                      "parallel_tool_calls": true,
                      "previous_response_id": null,
                      "reasoning": {
                        "effort": null,
                        "summary": null
                      },
                      "store": true,
                      "temperature": 1.0,
                      "text": {
                        "format": {
                          "type": "text"
                        }
                      },
                      "tool_choice": "auto",
                      "tools": [
                        {
                          "type": "function",
                          "description": "获取指定位置的当前天气",
                          "name": "get_current_weather",
                          "parameters": {
                            "type": "object",
                            "properties": {
                              "location": {
                                "type": "string",
                                "description": "城市和州，例如 San Francisco, CA"
                              },
                              "unit": {
                                "type": "string",
                                "enum": [
                                  "celsius",
                                  "fahrenheit"
                                ]
                              }
                            },
                            "required": [
                              "location",
                              "unit"
                            ]
                          },
                          "strict": true
                        }
                      ],
                      "top_p": 1.0,
                      "truncation": "disabled",
                      "usage": {
                        "input_tokens": 291,
                        "output_tokens": 23,
                        "output_tokens_details": {
                          "reasoning_tokens": 0
                        },
                        "total_tokens": 314
                      },
                      "user": null,
                      "metadata": {}
                    }
                  },
                  "reasoning": {
                    "summary": "推理能力响应示例",
                    "value": {
                      "id": "resp_67ccd7eca01881908ff0b5146584e408072912b2993db808",
                      "object": "response",
                      "created_at": 1741477868,
                      "status": "completed",
                      "error": null,
                      "incomplete_details": null,
                      "instructions": null,
                      "max_output_tokens": null,
                      "model": "o1-2024-12-17",
                      "output": [
                        {
                          "type": "message",
                          "id": "msg_67ccd7f7b5848190a6f3e95d809f6b44072912b2993db808",
                          "status": "completed",
                          "role": "assistant",
                          "content": [
                            {
                              "type": "output_text",
                              "text": "这是一个源自英文绕口令\"How much wood would a woodchuck chuck if a woodchuck could chuck wood\"的问题。在现实中，啄木鸟(woodpecker)和土拨鼠(woodchuck)是不同的动物，而且土拨鼠实际上并不\"啄(chuck)\"木头。\n\n从科学角度看，啄木鸟每天确实会啄树木以寻找食物、建造巢穴或进行通讯。一只啄木鸟平均每天可能啄树约8000-12000次，视物种和具体目的而定。如果我们将这转换为木材量，假设每次啄击移除约0.1-0.2立方厘米的木材，那么一只啄木鸟理论上每天可能移除约800-2400立方厘米的木材。\n\n然而，啄木鸟主要是为了觅食和筑巢而啄木，而不是单纯地移除木材，所以这个计算只是一个有趣的理论估算。",
                              "annotations": []
                            }
                          ]
                        }
                      ],
                      "parallel_tool_calls": true,
                      "previous_response_id": null,
                      "reasoning": {
                        "effort": "high",
                        "summary": null
                      },
                      "store": true,
                      "temperature": 1.0,
                      "text": {
                        "format": {
                          "type": "text"
                        }
                      },
                      "tool_choice": "auto",
                      "tools": [],
                      "top_p": 1.0,
                      "truncation": "disabled",
                      "usage": {
                        "input_tokens": 81,
                        "input_tokens_details": {
                          "cached_tokens": 0
                        },
                        "output_tokens": 1035,
                        "output_tokens_details": {
                          "reasoning_tokens": 832
                        },
                        "total_tokens": 1116
                      },
                      "user": null,
                      "metadata": {}
                    }
                  }
                }
              },
              "text/event-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary",
                  "description": "服务器发送事件(SSE)流式响应"
                },
                "example": "event: response.created\ndata: {\"type\":\"response.created\",\"response\":{\"id\":\"resp_67c9fdcecf488190bdd9a0409de3a1ec07b8b0ad4e5eb654\",\"object\":\"response\",\"created_at\":1741290958,\"status\":\"in_progress\",\"error\":null,\"incomplete_details\":null,\"instructions\":\"你是一个有帮助的助手。\",\"max_output_tokens\":null,\"model\":\"gpt-4.1-2025-04-14\",\"output\":[],\"parallel_tool_calls\":true,\"previous_response_id\":null,\"reasoning\":{\"effort\":null,\"summary\":null},\"store\":true,\"temperature\":1.0,\"text\":{\"format\":{\"type\":\"text\"}},\"tool_choice\":\"auto\",\"tools\":[],\"top_p\":1.0,\"truncation\":\"disabled\",\"usage\":null,\"user\":null,\"metadata\":{}}}\n\nevent: response.in_progress\ndata: {\"type\":\"response.in_progress\",\"response\":{\"id\":\"resp_67c9fdcecf488190bdd9a0409de3a1ec07b8b0ad4e5eb654\",\"object\":\"response\",\"created_at\":1741290958,\"status\":\"in_progress\",\"error\":null,\"incomplete_details\":null,\"instructions\":\"你是一个有帮助的助手。\",\"max_output_tokens\":null,\"model\":\"gpt-4.1-2025-04-14\",\"output\":[],\"parallel_tool_calls\":true,\"previous_response_id\":null,\"reasoning\":{\"effort\":null,\"summary\":null},\"store\":true,\"temperature\":1.0,\"text\":{\"format\":{\"type\":\"text\"}},\"tool_choice\":\"auto\",\"tools\":[],\"top_p\":1.0,\"truncation\":\"disabled\",\"usage\":null,\"user\":null,\"metadata\":{}}}\n\nevent: response.output_item.added\ndata: {\"type\":\"response.output_item.added\",\"output_index\":0,\"item\":{\"id\":\"msg_67c9fdcf37fc8190ba82116e33fb28c507b8b0ad4e5eb654\",\"type\":\"message\",\"status\":\"in_progress\",\"role\":\"assistant\",\"content\":[]}}\n\n..."
              }
            }
          }
        },
        "tags": [
          "Responses"
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "CreateResponseRequest": {
        "type": "object",
        "required": [
          "model",
          "input"
        ],
        "properties": {
          "input": {
            "oneOf": [
              {
                "type": "string",
                "description": "文本输入，相当于具有用户角色的文本输入"
              },
              {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/InputMessage"
                },
                "description": "包含不同内容类型的一个或多个输入项列表"
              }
            ],
            "description": "提供给模型的文本、图像或文件输入，用于生成响应。"
          },
          "model": {
            "type": "string",
            "description": "用于生成响应的模型ID，例如 gpt-4.1 或 o3。OpenAI 提供各种具有不同能力、性能特性和价格点的模型。请参阅模型指南以浏览和比较可用模型。",
            "example": "gpt-4.1"
          },
          "include": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "file_search_call.results",
                "message.input_image.image_url",
                "computer_call_output.output.image_url",
                "reasoning.encrypted_content"
              ]
            },
            "description": "指定要在模型响应中包含的附加输出数据。",
            "nullable": true
          },
          "instructions": {
            "type": "string",
            "description": "作为模型上下文中的第一项插入系统（或开发者）消息。",
            "nullable": true
          },
          "max_output_tokens": {
            "type": "integer",
            "description": "可以为响应生成的令牌数量的上限，包括可见输出令牌和推理令牌。",
            "nullable": true
          },
          "metadata": {
            "type": "object",
            "description": "可以附加到对象的16个键值对集合。这对于以结构化格式存储对象的其他信息很有用,并可以通过 API 或仪表板查询对象。",
            "nullable": true,
            "maxProperties": 16,
            "additionalProperties": {
              "type": "string",
              "maxLength": 512
            }
          },
          "parallel_tool_calls": {
            "type": "boolean",
            "description": "是否允许模型并行运行工具调用。",
            "default": true,
            "nullable": true
          },
          "previous_response_id": {
            "type": "string",
            "description": "模型的前一个响应的唯一ID。使用此参数创建多轮对话。了解更多关于对话状态。",
            "nullable": true
          },
          "reasoning": {
            "type": "object",
            "description": "推理模型的配置选项。",
            "properties": {
              "effort": {
                "type": "string",
                "enum": [
                  "low",
                  "medium",
                  "high"
                ],
                "description": "推理的努力程度",
                "nullable": true
              },
              "summary": {
                "type": "string",
                "enum": [
                  "auto",
                  "concise",
                  "detailed"
                ],
                "description": "模型执行的推理摘要",
                "nullable": true
              },
              "generate_summary": {
                "type": "string",
                "enum": [
                  "auto",
                  "concise",
                  "detailed"
                ],
                "description": "已弃用: 请使用 summary 替代",
                "nullable": true,
                "deprecated": true
              }
            },
            "nullable": true
          },
          "service_tier": {
            "type": "string",
            "enum": [
              "auto",
              "default",
              "flex"
            ],
            "description": "指定用于处理请求的延迟层级。",
            "default": "auto",
            "nullable": true
          },
          "store": {
            "type": "boolean",
            "description": "是否存储生成的模型响应以供以后通过 API 检索。",
            "default": true,
            "nullable": true
          },
          "stream": {
            "type": "boolean",
            "description": "如果设置为 true，模型响应数据将在生成时使用服务器发送的事件流式传输到客户端。",
            "default": false,
            "nullable": true
          },
          "temperature": {
            "type": "number",
            "minimum": 0,
            "maximum": 2,
            "description": "要使用的采样温度，介于 0 和 2 之间。较高的值（如0.8）会使输出更加随机，而较低的值（如0.2）会使其更加集中和确定性。",
            "default": 1,
            "nullable": true
          },
          "text": {
            "type": "object",
            "description": "模型文本响应的配置选项。可以是纯文本或结构化JSON数据。",
            "properties": {
              "format": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "text",
                      "json_object",
                      "json_schema"
                    ]
                  }
                }
              }
            }
          },
          "tool_choice": {
            "oneOf": [
              {
                "type": "string",
                "enum": [
                  "none",
                  "auto",
                  "required"
                ]
              },
              {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "file_search",
                      "web_search_preview",
                      "computer_use_preview"
                    ]
                  }
                },
                "required": [
                  "type"
                ]
              },
              {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "function"
                    ]
                  },
                  "name": {
                    "type": "string"
                  }
                },
                "required": [
                  "type",
                  "name"
                ]
              }
            ],
            "description": "模型如何选择生成响应时使用的工具（或多个工具）。"
          },
          "tools": {
            "type": "array",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/FileSearchTool"
                },
                {
                  "$ref": "#/components/schemas/FunctionTool"
                },
                {
                  "$ref": "#/components/schemas/WebSearchTool"
                },
                {
                  "$ref": "#/components/schemas/ComputerUseTool"
                }
              ]
            },
            "description": "模型在生成响应时可能调用的工具数组。"
          },
          "top_p": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "一种替代采样温度的方法，称为核采样，其中模型考虑具有 top_p 概率质量的标记结果。",
            "default": 1,
            "nullable": true
          },
          "truncation": {
            "type": "string",
            "enum": [
              "auto",
              "disabled"
            ],
            "description": "用于模型响应的截断策略。",
            "default": "disabled",
            "nullable": true
          },
          "user": {
            "type": "string",
            "description": "表示最终用户的唯一标识符，可以帮助OpenAI监控和检测滥用行为。",
            "nullable": true
          }
        }
      },
      "InputMessage": {
        "type": "object",
        "required": [
          "role",
          "content"
        ],
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "user",
              "assistant",
              "system",
              "developer"
            ],
            "description": "输入消息的角色"
          },
          "content": {
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "array",
                "items": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/TextInput"
                    },
                    {
                      "$ref": "#/components/schemas/ImageInput"
                    },
                    {
                      "$ref": "#/components/schemas/FileInput"
                    }
                  ]
                }
              }
            ],
            "description": "提供给模型的文本、图像或音频输入，用于生成响应。也可以包含之前的助手响应"
          },
          "type": {
            "type": "string",
            "enum": [
              "message"
            ],
            "description": "输入消息的类型，始终为 message"
          }
        }
      },
      "TextInput": {
        "type": "object",
        "required": [
          "type",
          "text"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "input_text"
            ],
            "description": "输入项的类型，始终为 input_text"
          },
          "text": {
            "type": "string",
            "description": "提供给模型的文本输入"
          }
        }
      },
      "ImageInput": {
        "type": "object",
        "required": [
          "type"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "input_image"
            ],
            "description": "输入项的类型，始终为 input_image"
          },
          "detail": {
            "type": "string",
            "enum": [
              "high",
              "low",
              "auto"
            ],
            "description": "要发送给模型的图像的详细级别",
            "default": "auto"
          },
          "file_id": {
            "type": "string",
            "description": "要发送给模型的文件ID"
          },
          "image_url": {
            "type": "string",
            "description": "要发送给模型的图像URL。可以是完整的URL或数据URL中的base64编码图像"
          }
        }
      },
      "FileInput": {
        "type": "object",
        "required": [
          "type"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "input_file"
            ],
            "description": "输入项的类型，始终为 input_file"
          },
          "file_data": {
            "type": "string",
            "description": "要发送给模型的文件内容"
          },
          "file_id": {
            "type": "string",
            "description": "要发送给模型的文件ID"
          },
          "filename": {
            "type": "string",
            "description": "要发送给模型的文件名"
          }
        }
      },
      "FileSearchTool": {
        "type": "object",
        "required": [
          "type",
          "vector_store_ids"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "file_search"
            ],
            "description": "文件搜索工具的类型，始终为 file_search"
          },
          "vector_store_ids": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "要搜索的向量存储ID列表"
          },
          "filters": {
            "type": "object",
            "description": "要应用的过滤器"
          },
          "max_num_results": {
            "type": "integer",
            "minimum": 1,
            "maximum": 50,
            "description": "返回的最大结果数。此数字应介于1到50之间（含）"
          },
          "ranking_options": {
            "type": "object",
            "properties": {
              "ranker": {
                "type": "string",
                "description": "文件搜索使用的排名器"
              },
              "score_threshold": {
                "type": "number",
                "minimum": 0,
                "maximum": 1,
                "description": "文件搜索的分数阈值，介于0和1之间的数字"
              }
            },
            "description": "搜索排名选项"
          }
        }
      },
      "FunctionTool": {
        "type": "object",
        "required": [
          "type",
          "name",
          "parameters"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "function"
            ],
            "description": "函数工具的类型，始终为 function"
          },
          "name": {
            "type": "string",
            "description": "要调用的函数名称"
          },
          "description": {
            "type": "string",
            "description": "函数的描述。模型用它来确定是否调用函数"
          },
          "parameters": {
            "type": "object",
            "description": "描述函数参数的JSON模式对象"
          },
          "strict": {
            "type": "boolean",
            "description": "是否强制严格参数验证",
            "default": true
          }
        }
      },
      "WebSearchTool": {
        "type": "object",
        "required": [
          "type"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "web_search_preview",
              "web_search_preview_2025_03_11"
            ],
            "description": "网络搜索工具的类型"
          },
          "search_context_size": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high"
            ],
            "description": "对用于搜索的上下文窗口空间量的高级指导",
            "default": "medium"
          },
          "user_location": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "approximate"
                ],
                "description": "位置近似类型。始终为 approximate"
              },
              "city": {
                "type": "string",
                "description": "用户所在城市的自由文本输入，例如 \"San Francisco\""
              },
              "country": {
                "type": "string",
                "description": "用户的两字母ISO国家代码，例如 \"US\""
              },
              "region": {
                "type": "string",
                "description": "用户所在区域的自由文本输入，例如 \"California\""
              },
              "timezone": {
                "type": "string",
                "description": "用户的IANA时区，例如 \"America/Los_Angeles\""
              }
            },
            "description": "用户的位置"
          },
          "domains": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "限制搜索的域名列表"
          }
        }
      },
      "ComputerUseTool": {
        "type": "object",
        "required": [
          "type",
          "display_height",
          "display_width",
          "environment"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "computer_use_preview"
            ],
            "description": "计算机使用工具的类型。始终为 computer_use_preview"
          },
          "display_height": {
            "type": "integer",
            "description": "计算机显示器的高度"
          },
          "display_width": {
            "type": "integer",
            "description": "计算机显示器的宽度"
          },
          "environment": {
            "type": "string",
            "description": "要控制的计算机环境类型"
          }
        }
      },
      "ResponseObject": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "响应的唯一标识符"
          },
          "object": {
            "type": "string",
            "description": "对象类型,值为 \"response\""
          },
          "created_at": {
            "type": "integer",
            "description": "响应创建时间戳"
          },
          "status": {
            "type": "string",
            "enum": [
              "completed",
              "in_progress"
            ],
            "description": "响应状态"
          },
          "error": {
            "type": "object",
            "description": "如果发生错误，包含错误信息",
            "nullable": true
          },
          "incomplete_details": {
            "type": "object",
            "description": "如果响应不完整，包含详细信息",
            "nullable": true
          },
          "instructions": {
            "type": "string",
            "description": "提供给模型的系统指令",
            "nullable": true
          },
          "max_output_tokens": {
            "type": "integer",
            "description": "最大输出标记数",
            "nullable": true
          },
          "model": {
            "type": "string",
            "description": "使用的模型名称"
          },
          "output": {
            "type": "array",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/MessageOutput"
                },
                {
                  "$ref": "#/components/schemas/ToolCallOutput"
                }
              ]
            },
            "description": "包含生成的回复和工具调用"
          },
          "parallel_tool_calls": {
            "type": "boolean",
            "description": "是否启用并行工具调用"
          },
          "previous_response_id": {
            "type": "string",
            "description": "前一个响应的ID（用于多轮对话）",
            "nullable": true
          },
          "reasoning": {
            "type": "object",
            "properties": {
              "effort": {
                "type": "string",
                "enum": [
                  "low",
                  "medium",
                  "high"
                ],
                "nullable": true
              },
              "summary": {
                "type": "string",
                "nullable": true
              }
            },
            "description": "推理相关信息"
          },
          "store": {
            "type": "boolean",
            "description": "是否存储此响应"
          },
          "temperature": {
            "type": "number",
            "description": "使用的采样温度"
          },
          "text": {
            "type": "object",
            "description": "文本输出格式配置"
          },
          "tool_choice": {
            "type": "string",
            "description": "工具选择策略"
          },
          "tools": {
            "type": "array",
            "items": {
              "type": "object"
            },
            "description": "可用工具列表"
          },
          "top_p": {
            "type": "number",
            "description": "核采样阈值"
          },
          "truncation": {
            "type": "string",
            "description": "截断策略"
          },
          "usage": {
            "type": "object",
            "properties": {
              "input_tokens": {
                "type": "integer"
              },
              "input_tokens_details": {
                "type": "object",
                "properties": {
                  "cached_tokens": {
                    "type": "integer"
                  }
                }
              },
              "output_tokens": {
                "type": "integer"
              },
              "output_tokens_details": {
                "type": "object",
                "properties": {
                  "reasoning_tokens": {
                    "type": "integer"
                  }
                }
              },
              "total_tokens": {
                "type": "integer"
              }
            },
            "description": "token 使用统计"
          },
          "user": {
            "type": "string",
            "description": "用户标识符",
            "nullable": true
          },
          "metadata": {
            "type": "object",
            "description": "附加的元数据信息"
          }
        }
      },
      "MessageOutput": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "message"
            ]
          },
          "id": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "completed",
              "in_progress"
            ]
          },
          "role": {
            "type": "string",
            "enum": [
              "assistant"
            ]
          },
          "content": {
            "type": "array",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/OutputText"
                },
                {
                  "$ref": "#/components/schemas/Refusal"
                }
              ]
            }
          }
        }
      },
      "ToolCallOutput": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "file_search_call",
              "web_search_call",
              "function_call",
              "computer_call"
            ]
          }
        }
      },
      "OutputText": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "output_text"
            ]
          },
          "text": {
            "type": "string",
            "description": "模型生成的文本输出"
          },
          "annotations": {
            "type": "array",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/FileCitation"
                },
                {
                  "$ref": "#/components/schemas/UrlCitation"
                },
                {
                  "$ref": "#/components/schemas/FilePath"
                }
              ]
            },
            "description": "文本输出的注释"
          }
        }
      },
      "Refusal": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "refusal"
            ]
          },
          "refusal": {
            "type": "string",
            "description": "模型的拒绝解释"
          }
        }
      },
      "FileCitation": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "file_citation"
            ]
          },
          "file_id": {
            "type": "string",
            "description": "文件的ID"
          },
          "index": {
            "type": "integer",
            "description": "文件在文件列表中的索引"
          }
        }
      },
      "UrlCitation": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "url_citation"
            ]
          },
          "start_index": {
            "type": "integer",
            "description": "URL引用在消息中的第一个字符的索引"
          },
          "end_index": {
            "type": "integer",
            "description": "URL引用在消息中的最后一个字符的索引"
          },
          "title": {
            "type": "string",
            "description": "网络资源的标题"
          },
          "url": {
            "type": "string",
            "description": "网络资源的URL"
          }
        }
      },
      "FilePath": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "file_path"
            ]
          },
          "file_id": {
            "type": "string",
            "description": "文件的ID"
          },
          "index": {
            "type": "integer",
            "description": "文件在文件列表中的索引"
          }
        }
      }
    },
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "description": "在请求头中包含以下内容进行 API 密钥认证：\n\n```\nAuthorization: Bearer $NEWAPI_API_KEY\n```\n\n其中 `$NEWAPI_API_KEY` 是您的 API 密钥。"
      }
    }
  },
  "tags": [
    {
      "name": "Responses",
      "description": "创建模型响应。提供文本或图像输入以生成文本或JSON输出。让模型调用您自己的自定义代码或使用内置工具（如网络搜索或文件搜索）将您自己的数据用作模型响应的输入。"
    }
  ]
}